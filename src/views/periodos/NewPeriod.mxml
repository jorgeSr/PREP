<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" title="Nuevo Periodo"
		backgroundAlpha="0.8" backgroundColor="#EAC26B" xmlns:popups="views.popups.*">
	<fx:Script>
		<![CDATA[
			import views.popups.SetDatePopUp;
			import views.transacciones.NewTransaction;
			
			protected function showDateChooser(i:int):void
			{
				iniPop.addEventListener( "noDate", cancel );
				iniPop.addEventListener( "okDate", setDate );
				iniPop.extra = i; //indica fecha inicial
				iniPop.open( this );
			}
			
			protected function setDate(e:Event):void
			{
				if( e.target.extra == 0)
				{
					tiFini.text = "Seleccionada: "+iniPop.lbDay.text;
				}
				else
				{
					tiFfin.text = "Seleccionada: "+iniPop.lbDay.text;
				}
				iniPop.close();
			}
			
			protected function cancel(e:Event):void
			{
				iniPop.close();	
			}
			
		]]>
	</fx:Script>
	
	<s:Rect x="0" y="0" width="{this.width}" height="{this.height}">
		<s:fill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="#efefef" alpha="0"/>
				<s:GradientEntry color="#ffffff" alpha="0.2"/>
			</s:LinearGradient>
		</s:fill>
	</s:Rect>
	<s:Label x="0" y="0" width="100%" height="50" backgroundAlpha="0.5" backgroundColor="#F7F5F5"
			 text="  Fecha de Inicio" verticalAlign="middle"/>
	<s:Label x="0" y="175" width="100%" height="50" backgroundAlpha="0.5" backgroundColor="#F7F5F5"
			 text="  Fecha de Fin" verticalAlign="middle"/>
	<s:Label x="0" y="349" width="100%" height="50" backgroundAlpha="0.5" backgroundColor="#F7F5F5"
			 text="  Transacciones Fijas" verticalAlign="middle"/>
	<s:Label id="tiFini" y="49" width="100%" height="78" backgroundAlpha="0.8"
			 backgroundColor="#FFFFFF" click="showDateChooser(0)" color="#646464" fontSize="35"
			 horizontalCenter="0" text="click para seleccionar la fecha" textAlign="center"
			 verticalAlign="middle"/>
	<s:Label id="tiFfin" y="224" width="100%" height="77" backgroundAlpha="0.8"
			 backgroundColor="#FFFFFF" click="showDateChooser(1)" color="#646464" fontSize="35"
			 horizontalCenter="0" text="click para seleccionar la fecha" textAlign="center"
			 verticalAlign="middle"/>
	<s:Button y="414" width="130" height="80" click=" navigator.pushView( NewTransaction, true)"
			  horizontalCenter="-155" icon="@Embed('assets/add.png')"/>
	<s:Button y="414" width="130" height="80" horizontalCenter="0" icon="@Embed('assets/del.png')"/>
	<s:Button y="414" width="130" height="80" horizontalCenter="155" icon="@Embed('assets/see.png')"/>
	<s:Button bottom="50" width="90%" height="75" label="Crear Periodo" horizontalCenter="0"/>
	
	<fx:Declarations>
		<popups:SetDatePopUp id="iniPop" open="{this.enabled = tabBarVisible = false}" 
							 close="{this.enabled = tabBarVisible = true}"/>
	</fx:Declarations>
</s:View>
